# Task 2 相关性计算逻辑详解 (Methodology: Correlation in Simulation)

关于报告中 **"Rank Rule (Rho_F ~ 0.92)"** 和 **"Percent Rule (Rho_F ~ 0.93)"** 这些具体数值，它们是通过 **反事实模拟 (Counterfactual Simulation)** 得到的。

以下是这一数据的**生产流水线**，每一步都有明确的代码逻辑对应：

### 1. 定义基准 (The Ground Truths)
在开始比较规则之前，我们先定义了两个“绝对坐标”：
*   **评委的真实意愿 ($R_{Judge}$)**: 根据该赛季评委给每位选手的**总分**进行排名 (1=最高分)。
*   **粉丝的真实意愿 ($R_{Fan}$)**: 根据 Task 1 模型推算出的**平均得票率 ($v$)** 进行排名 (1=人气王)。
    *(注意：这两个排名在所有规则模拟中都是**固定不变**的，作为参考系。)*

### 2. 生成平行宇宙 (The Simulation)
对于每一种规则（Rank Rule 和 Percent Rule），我们让计算机把 34 个赛季重跑了 **100 次**：
*   **输入**: 输入相同的 $S$ (评委分) 和不同的 $v$ (从后验分布中采样的粉丝票)。
*   **过程**: 按照该规则的淘汰逻辑（比如 Rank Rule 是 $Rank_S + Rank_v$），每周淘汰一个人。
*   **输出**: 得到一个 **模拟最终排名 ($R_{Sim}$)**。比如：Jerry Rice 在这次模拟中得了第几名？

### 3. 计算相关性 (The Calculation)
由于我们有 100 次模拟结果，我们对每一次模拟都计算一遍 Spearman 相关系数：

$$ \rho_F = \text{Spearman}(R_{Sim}, R_{Fan}) $$
$$ \rho_J = \text{Spearman}(R_{Sim}, R_{Judge}) $$

*   如果 $\rho_F$ 很高（接近 1.0），说明在这种规则下，**粉丝喜欢的人最终都赢了**。
*   如果 $\rho_J$ 很高，说明**评委喜欢的人最终都赢了**。

### 4. 汇总 (Aggregation)
报告中的数字是这 34 个赛季 $\times$ 100 次模拟的**平均值**。

---

### 5. 具体案例解读
*   **Rank Rule (排名法)**:
    *   **$\rho_F = 0.92$**: 说明在“排名相加”的机制下，粉丝投票对最终结果的解释力是 92%。
    *   **$\rho_J \approx 0$ (Simulated)**: 说明在引入了粉丝投票波动的模拟环境中，评委排名与最终结果的关联度被稀释了（而在现实中因为粉丝投票是固定的，所以相关性很高）。
*   **Percent Rule (百分比法)**:
    *   **$\rho_F = 0.93$**: 这个数字比 0.92 大，说明 **百分比法比排名法更听粉丝的话** (0.93 > 0.92)。
    *   **结论**: 如果你想让粉丝更开心，应该选 Percent Rule。

这就是为什么我们在 Task 2 中能得出 *"Percent Rule is more Fan-Biased"* 的结论——因为代码跑出来的 $\rho_F$ 更高。
