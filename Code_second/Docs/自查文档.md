0ï¼‰å…¨å±€è‡ªæŸ¥åŸºçº¿ï¼ˆä½ ä»¬é¡¹ç›®é‡Œå·²ç»æœ‰çš„ï¼‰
- æ•°æ®ï¼španel.parquetï¼ˆä¸»è¾“å…¥ï¼‰ã€elim_events.jsonï¼ˆæ·˜æ±°äº‹ä»¶ï¼‰
- Task1 æŒ‡æ ‡ï¼štask1_metrics.csvï¼ˆå·²å­˜åœ¨ï¼‰
- Task2 æŒ‡æ ‡ï¼štask2_metrics.csvï¼ˆå·²å­˜åœ¨ï¼‰
- éªŒè¯è¾“å‡ºï¼švalidation_results/season_summary.csv, validation_results/detailed_predictions.csv, validation_results/validation_report.txtï¼ˆå·²å­˜åœ¨ï¼‰
å»ºè®®ç»Ÿä¸€ä¸€ä¸ªçº¦å®šï¼ˆä¸å¼ºåˆ¶æ”¹æ–‡ä»¶åï¼Œåªè¦å†…å®¹ä¸€è‡´ï¼‰ï¼š
- â€œæ¯å­£æ–‡ä»¶â€å‘½åï¼šseason_{s}.*
- â€œè§„åˆ™åœºæ™¯â€åç¼€ï¼šrank / percent / rank_save / percent_save
- æ‰€æœ‰ .npz å†…éƒ¨è‡³å°‘è¦æœ‰ï¼šmetaï¼ˆæˆ–å¯æ¨æ–­ season/ruleï¼‰ï¼Œä»¥åŠæ ¸å¿ƒæ•°ç»„

---
Task 1ï½œç¥¨ä»½é¢åæ¼”ï¼ˆNUTS MCMC ä¸»çº¿ï¼‰
âœ… ä½ ä»¬å·²æœ‰ä¸»è¾“å‡º
1ï¼‰posterior samplesï¼ˆæ¯å­£ï¼‰
è·¯å¾„ï¼šposterior_samples/season_{s}.npz
è¿™ä¸ª npz é‡Œæœ€ç»ˆåº”åŒ…å«çš„ keyï¼ˆä»£ç æ‰‹è‡ªæŸ¥ç”¨ï¼‰
æœ€ä½é…å¿…é¡»æœ‰ï¼š
- uï¼šå½¢çŠ¶å»ºè®® (R, T, Nmax) æˆ– (R, n_rows)ï¼ˆçœ‹ä½ ä»¬å®ç°ï¼‰
- vï¼šåŒç»´åº¦ï¼Œvote share
- active_mask æˆ– row_indexï¼šèƒ½çŸ¥é“æ¯ä¸ª v å¯¹åº”å“ªä¸ª (t,i)ï¼Œä»¥åŠ active é›†åˆ
- couple_id, week, seasonï¼ˆå¯ç”¨ index æ˜ å°„è¡¨ä»£æ›¿ï¼‰
- ï¼ˆå¯é€‰ä½†å¼ºçƒˆå»ºè®®ï¼‰log_lik æˆ–æ¯å‘¨æ·˜æ±° logpï¼ˆä¾¿äºè¯Šæ–­ï¼‰
å¿«é€Ÿè‡ªæŸ¥ 1ï¼šå¯¹æ¯ä¸ª draw rã€æ¯å‘¨ tï¼šsum(v[r,t,active])==1ï¼ˆå…è®¸ 1e-6 è¯¯å·®ï¼‰
å¿«é€Ÿè‡ªæŸ¥ 2ï¼šv>=0
å¿«é€Ÿè‡ªæŸ¥ 3ï¼šactive å¤–æ˜¯å¦ä¸º 0 æˆ–è¢« mask æ‰ï¼ˆä¸è¦æŠŠé active æ··è¿›å½’ä¸€åŒ–ï¼‰
âœ… ä½ ä»¬å·²æœ‰æŒ‡æ ‡è¾“å‡º
- task1_metrics.csvï¼ˆå…¨å±€æ±‡æ€»ï¼‰
å»ºè®®è¿™ä¸ª CSV é‡Œæœ€ç»ˆè‡³å°‘æœ‰åˆ—ï¼š
- season
- acc, top2, brier, coverage90
- avg_ci_widthï¼ˆä½ ä»¬å¼ºè°ƒ certainty å¿…é¡»æœ‰ï¼‰
- rhat_max, ess_minï¼ˆå¦‚æœèƒ½ä» task1_diagnostic.py æ±‡æ€»å‡ºæ¥ï¼‰
ğŸ”§ å»ºè®®è¡¥é½ï¼ˆä½†ä¸è¦æ±‚æ”¹ç›®å½•ï¼‰
2ï¼‰posterior summaryï¼ˆæ¯å­£/æˆ–å…¨å­£åˆå¹¶ï¼‰
å»ºè®®æ–°å¢æ–‡ä»¶ï¼šposterior_samples/season_{s}_summary.parquetï¼ˆæˆ– csvï¼‰
åˆ—ï¼š
- season, week, couple_id
- v_mean, v_q05, v_q50, v_q95, v_ci_width
- ï¼ˆå¯é€‰ï¼‰u_mean, u_q05, u_q95
è¿™æ · Task2/Task3 ä¸ç”¨åå¤è¯»å…¨é‡ draws æ¥åšç®€å•ç»Ÿè®¡ã€‚
3ï¼‰MCMC è¯Šæ–­è½ç›˜ï¼ˆæ¯å­£ï¼‰
å»ºè®®æ–°å¢ï¼šposterior_samples/season_{s}_diagnostics.json
- chains,warmup,samples,divergences,rhat_max,ess_min,seed
- used_vi_warm_startï¼ˆå¦‚æœæœ‰ï¼‰

---
Task 2ï½œè§„åˆ™åäº‹å®å›æ”¾ï¼ˆPosterior-driven Monte Carlo Replayï¼‰
âœ… ä½ ä»¬å·²æœ‰ä¸»è¾“å‡º
è·¯å¾„ï¼šreplay_results/season_{s}_{rule}.npz
rule åŒ…æ‹¬ï¼šrank, percent, rank_save, percent_saveï¼ˆä½ ä»¬ç°åœ¨å…¨éƒ½æœ‰ï¼‰
æ¯ä¸ª replay npz æœ€ç»ˆåº”åŒ…å«çš„ keyï¼ˆè‡ªæŸ¥ç”¨ï¼‰
æœ€ä½é…å»ºè®®ï¼š
- placementsï¼šå½¢çŠ¶ (R, N_final) æˆ– (R, N_total)ï¼ˆçœ‹ä½ ä»¬æ€ä¹ˆç¼–ç åæ¬¡ï¼‰
- elims æˆ– elim_weekï¼šæ¯ä¸ªé€‰æ‰‹åœ¨å“ªå‘¨è¢«æ·˜æ±°ï¼ˆå½¢çŠ¶ (R, N_total)ï¼‰
- champion_idï¼šå½¢çŠ¶ (R,)
- top3_idsï¼šå½¢çŠ¶ (R,3)ï¼ˆå¯é€‰ï¼Œä½†å¾ˆæ–¹ä¾¿ï¼‰
- metaï¼šè‡³å°‘åŒ…å« season, rule, save_flag, gammaï¼ˆè‹¥å›ºå®šï¼‰
å¿«é€Ÿè‡ªæŸ¥ 1ï¼šåŒä¸€æ¡ draw çš„æ·˜æ±°å‘¨æ•°/åæ¬¡å¿…é¡»è‡ªæ´½ï¼ˆä¸èƒ½ä¸€ä¸ªäººåŒæ—¶â€œè¿˜åœ¨â€åˆè¢«æ·˜æ±°ï¼‰
å¿«é€Ÿè‡ªæŸ¥ 2ï¼šå›æ”¾ä¸­æ¯å‘¨æ·˜æ±°äººæ•°ç­‰äºçœŸå® m_{s,t}ï¼ˆä½ ä»¬è®¾è®¡è¦æ±‚ï¼‰
âœ… ä½ ä»¬å·²æœ‰æŒ‡æ ‡è¾“å‡º
- task2_metrics.csvï¼ˆå·²å­˜åœ¨ï¼‰
å»ºè®®è¿™ä¸ª CSV æœ€ç»ˆè‡³å°‘æœ‰åˆ—ï¼š
- season
- ruleï¼ˆå››ç§ï¼‰
- p_champion_change_vs_baseline
- p_top3_change_vs_baseline
- rho_F_mean, rho_J_meanï¼ˆåå‘æ€§ï¼‰
- ï¼ˆå¦‚æœä½ ä»¬åŠ äº†æˆå‰§æ€§ï¼‰D_mean, H_mean, upset_rateï¼ˆå¯ä»¥å…ˆä¸åŠ ï¼‰
ğŸ”§ å»ºè®®è¡¥é½ï¼ˆä¾¿äºå†™è®ºæ–‡/æ’é”™ï¼‰
1ï¼‰å‘¨çº§å·®å¼‚çƒ­åŠ›å›¾æ•°æ®ï¼ˆå…¨å­£æ±‡æ€»ï¼‰
å»ºè®®æ–°å¢ï¼šreplay_results/season_{s}_weekly_diff.csv
- season, week
- p_elim_diff_rank_vs_percent
- p_elim_diff_save_vs_nosave
ï¼ˆè¿™äº›éƒ½èƒ½ä» replay npz æ±‡æ€»å‡ºæ¥ï¼‰
2ï¼‰äº‰è®®äººç‰©åˆ†å¸ƒè¡¨ï¼ˆå…¨å±€ï¼‰
å»ºè®®æ–°å¢ï¼šreplay_results/controversy_cases.csv
- season, celebrity_name/couple_id
- rule
- p_win, p_top3, expected_rank, expected_survival_weeks

---
Task 3ï½œå½’å› ï¼ˆLMM é”šå®š + GBDT bootstrap SHAP CIï¼‰ã€ä½ ä»¬é€‰æ‹©äº†å¤–å¾ªç¯æ–¹æ¡ˆã€‘
ä½ ä»¬ç›®å‰ç›®å½•é‡Œè¿˜æ²¡æœ‰ task3 çš„è½ç›˜äº§ç‰©ï¼ˆåªæœ‰ task3.mdï¼‰ã€‚å»ºè®®ä»£ç æ‰‹æœ€ç»ˆäº§å‡ºä»¥ä¸‹å››ç±»æ–‡ä»¶å³å¯ï¼Œåˆ«æå¤ªå¤šã€‚
âœ… å¿…é¡»è¾“å‡ºï¼ˆè®ºæ–‡ç”¨ï¼‰
1ï¼‰å‘¨çº§æ•°æ®é›†å¿«ç…§ï¼ˆä¾¿äºå¤ç°ï¼‰
å»ºè®®ï¼štask3_weekly_dataset.parquet
åˆ—æœ€ä½é…ï¼š
- season, week, couple_id, partner_id
- yJï¼ˆjudge_pctï¼‰
- ç‰¹å¾ï¼šage_z, industry_code, week_idx, remaining_cnt, ...
- ï¼ˆå¯é€‰ï¼‰v_mean, v_ci_widthï¼ˆç‚¹ä¼°è®¡+ä¸ç¡®å®šæ€§ç‰¹å¾ï¼‰
yF ä¸éœ€è¦è½ç›˜ä¸ºæ¯ä¸ª r çš„ç‰ˆæœ¬ï¼ˆå¤ªå¤§ï¼‰ï¼Œå› ä¸ºä½ ä»¬å·²æœ‰ posterior_samples/season_{s}.npz å¯ç”Ÿæˆã€‚
2ï¼‰LMM è¯„å§”ä¾§ç»“æœ
- task3_lmm_judge_coeffs.csv
- task3_lmm_judge_partner_effects.csv
3ï¼‰LMM ç²‰ä¸ä¾§â€œå¤–å¾ªç¯æ±‡æ€»â€ç»“æœ
- task3_lmm_fan_coeffs_aggregated.csv
- task3_lmm_fan_partner_effects_aggregated.csv
è‡ªæŸ¥ç‚¹ï¼šç²‰ä¸ä¾§çš„ CI å¿…é¡»æ˜¯â€œè·¨ posterior draws çš„åˆ†ä½æ•°â€ï¼Œä¸æ˜¯å•æ¬¡æ‹Ÿåˆçš„æ ‡å‡†è¯¯ CIã€‚
4ï¼‰GBDT + SHAP CI
- task3_gbdt_cv_metrics.json
- task3_shap_ci_judge.csv
- task3_shap_ci_fan.csvï¼ˆå¦‚æœç”¨äº†â€œbootstrapé‡ŒæŠ½ râ€çš„æ–¹æ¡ˆï¼Œè¿™ä»½ CI å·²å«æŠ•ç¥¨ä¸ç¡®å®šæ€§ï¼‰

---
Task 4ï½œæ–°èµ›åˆ¶æœºåˆ¶è®¾è®¡ï¼ˆPareto + å¤šç›®æ ‡ BOï¼‰ã€å«æŠ—åˆ·ç¥¨æ‰°åŠ¨ã€‘
ä½ ä»¬ç›®å½•é‡Œç›®å‰æœ‰ task4æ›¿ä»£.mdï¼Œè¿˜æ²¡æœ‰ç¨‹åºäº§ç‰©ã€‚å»ºè®® Task4 æœ€ç»ˆå°±äº§å‡º 3 ä¸ªæ–‡ä»¶å¤¹çº§åˆ«çš„ä¸œè¥¿ï¼šè¯„ä¼°æ—¥å¿—ã€Pareto å‰æ²¿ã€æ¨èç‚¹å¡ç‰‡ã€‚
âœ… å¿…é¡»è¾“å‡º
1ï¼‰æ‰€æœ‰ Î¸ è¯„ä¼°ç‚¹æ—¥å¿—ï¼ˆLHS+BOå…¨è®°å½•ï¼‰
å»ºè®®ï¼štask4_theta_evaluations.parquet
åˆ—ï¼š
- å‚æ•°ï¼ša,b,eta,gamma,save_flag,kappa_pertï¼ˆæˆ–ä½ ä»¬å®é™… Î¸ï¼‰
- obj_F_mean,obj_F_sd
- obj_J_mean,obj_J_sd
- obj_D_mean,obj_D_sd
- obj_R_mean,obj_R_sd
- è¯„ä¼°é…ç½®ï¼šR_draws,K_pert,N_seasons
2ï¼‰Pareto å‰æ²¿
å»ºè®®ï¼štask4_pareto_front.csv
- åŒä¸Šå‚æ•°åˆ— + å››ç›®æ ‡å‡å€¼
- æ ‡è®°ï¼šis_knee,is_fan_biased,is_judge_biased
3ï¼‰ä¸‰æ¬¾æ¨èæ–¹æ¡ˆï¼ˆç»™åˆ¶ä½œäºº/è®ºæ–‡ç»“è®ºï¼‰
å»ºè®®ï¼štask4_recommendations.json
åŒ…å«ï¼š
- knee_point
- fan_favor_point
- judge_favor_point
æ¯ä¸ªç‚¹å†™ï¼š
- thetaï¼ˆå‚æ•°ï¼‰
- å››ç›®æ ‡å‡å€¼Â±sd
- ç®€çŸ­è§£é‡Šï¼ˆ1â€“2å¥ï¼‰
4ï¼‰é²æ£’æ€§åˆ†æ¡£è¡¨ï¼ˆå¯é€‰ä½†å¾ˆå¼ºï¼‰
å»ºè®®ï¼štask4_robustness_grid.csv
- theta_id,kappa_pert,obj_R_mean,obj_R_sd
ï¼ˆè½»/ä¸­/é‡å†²æ¦œä¸‰æ¡£ï¼‰

---
ä½ ä»¬ç°æœ‰ bat è„šæœ¬çš„â€œæœŸæœ›äº§ç‰©â€å¯¹ç…§ï¼ˆæ–¹ä¾¿ä¸€çœ¼æ’é”™ï¼‰
- run_task1.bat è·‘å®Œåï¼š
  - posterior_samples/season_*.npz å…¨é½
  - task1_metrics.csv æ›´æ–°/ç”Ÿæˆ
- run_validation.bat è·‘å®Œåï¼š
  - validation_results/* ä¸‰ä»¶å¥—é½
- run_metrics.bat è·‘å®Œåï¼š
  - task1_metrics.csvã€task2_metrics.csv éƒ½æœ‰ä¸”åŒ…å«æœ€æ–°åˆ—
è‹¥å…¶ä¸­æŸä¸ªç¼ºå¤±ï¼Œå…ˆçœ‹å¯¹åº” runner/metrics è„šæœ¬æ˜¯å¦æŠŠè·¯å¾„å†™æ­»åˆ°åˆ«çš„ç›®å½•ã€‚

---
æœ€å¿«â€œè‡ªæŸ¥ checklistâ€ï¼ˆä»£ç æ‰‹ç…§ç€å‹¾ï¼‰
Task1
-  æ¯å‘¨ active ä¸Š vote share å’Œä¸º 1
-  task1_metrics.csv æœ‰ coverage90 å’Œ avg_ci_width
-  æ¯å­£è‡³å°‘æœ‰ rhat_max, ess_min æˆ–èƒ½ä»è¯Šæ–­è„šæœ¬å¯¼å‡º
Task2
-  replay_results/season_{s}_{rule}.npz å››ç§ rule éƒ½å­˜åœ¨
-  å›æ”¾æ¯å‘¨æ·˜æ±°æ•°ç­‰äº m_{s,t}
-  task2_metrics.csv æœ‰ champion/top3 change æ¦‚ç‡ & rho_F/rho_J
Task3
-  è¾“å‡º 4 ä»½ LMM æ–‡ä»¶ï¼ˆjudge/fan aggregatedï¼‰
-  fan aggregated çš„ CI æ¥è‡ªè·¨ posterior drawsï¼ˆå¤–å¾ªç¯ï¼‰
-  SHAP æœ‰ CIï¼ˆè‡³å°‘ 2.5%/97.5%ï¼‰
Task4
-  æœ‰ theta_evaluationsï¼ˆæ‰€æœ‰ç‚¹ï¼‰
-  æœ‰ pareto_front + recommendations
-  Obj_R éš (\kappa^{pert}) å¢å¤§è€Œä¸‹é™ï¼ˆå¸¸è¯†æ£€æŸ¥ï¼‰